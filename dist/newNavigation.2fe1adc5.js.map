{"version":3,"sources":["helpers/_consts.js","helpers/_functions.js","scripts/newNavigation.js"],"names":["CLASSES","sidebarNav","sidebarNavButton","sidebarNavButtonActive","sidebarNavItem","DOM","parent","document","querySelector","sections","querySelectorAll","VIEWPORT_HEIGHT","FUNC","runAtEnd","console","log","runAtStart","removeActiveClass","classList","remove","throttle","method","context","delay","wait","args","apply","setTimeout","MyFullPage","config","sectionsCount","length","animationFinished","dots","currentPage","debounce","duration","callback","start","end","sectionNavigation","init","refreshPageToTop","setSideNavigation","addScrollListener","setAnimationDuration","window","scrollTo","style","transition","body","insertAdjacentHTML","forEach","section","dataset","target","innerHTML","buttons","add","button","index","addEventListener","scrollContent","f","ms","arguments","onStart","transform","onEnd","event","deltaY","debounceFunction","goto","point","func","fullPage","on"],"mappings":"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","file":"newNavigation.2fe1adc5.js","sourceRoot":"..\\src","sourcesContent":["export const CLASSES = {\n  sidebarNav: 'sidebar-nav',\n  sidebarNavButton: 'sidebar-nav__button',\n  sidebarNavButtonActive: 'sidebar-nav__button_is-active',\n  sidebarNavItem: 'sidebar-nav__item',\n};\n\nexport const DOM = {\n  parent: document.querySelector('.main-content'),\n  sections: document.querySelectorAll('.section'),\n  sidebarNav: `<div class=\"${CLASSES.sidebarNav}\"></div>`,\n};\n\nexport const VIEWPORT_HEIGHT = 100;\n","import { CLASSES } from './_consts';\n\nconst FUNC = {\n  runAtEnd: () => {\n    console.log('I run at the end');\n  },\n\n  runAtStart: () => {\n    console.log('I run at the start');\n  },\n\n  removeActiveClass: () => {\n    document\n      .querySelector(`.${CLASSES.sidebarNavButtonActive}`)\n      .classList.remove(CLASSES.sidebarNavButtonActive);\n  },\n\n  throttle: (method, context, delay) => {\n    let wait = false;\n\n    return function wrapper(...args) {\n      if (!wait) {\n        method.apply(context, args);\n        wait = true;\n        setTimeout(() => {\n          wait = false;\n        }, delay);\n      }\n    };\n  },\n};\n\nexport default FUNC;\n","'use-strict';\n\nimport {\n  CLASSES,\n  DOM,\n  VIEWPORT_HEIGHT,\n  // DEFAULT_DURATION,\n} from '../helpers/_consts';\nimport FUNC from '../helpers/_functions';\n\nclass MyFullPage {\n  constructor(config) {\n    this.sections = config.sections || DOM.sections; // this.pages\n    this.sectionsCount = this.sections.length; // this.amountOfPages\n    this.animationFinished = true;\n    this.dots = config.dots || false;\n    this.currentPage = 0;\n    this.debounce = null;\n    this.duration = config.duration || 500;\n    this.callback = {\n      start: null,\n      end: null,\n    };\n    this.sectionNavigation = '';\n\n    this.parent = config.parent || DOM.parent;\n\n    this.init();\n\n    // old\n    // this.parent = config.parent || DOM.parent;\n    // this.spinValue = config.spinValue || 0; // currentPage\n    // this.sectionNavigation = '';\n    // this.startY = undefined;\n\n    // this.initializeScroll();\n    // this.setAnimationDuration(this.duration);\n\n    // this.prevTime = new Date().getTime();\n\n    // this.refreshPageToTop();\n    // old\n  }\n\n  init() {\n    this.refreshPageToTop();\n    this.setSideNavigation();\n    this.addScrollListener();\n    this.setAnimationDuration(this.duration);\n  }\n\n  refreshPageToTop() {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 40);\n  }\n\n  setAnimationDuration(duration) {\n    console.log(this.parent);\n    this.parent.style.transition = `transform ${duration}ms ease-out`;\n  }\n\n  setSideNavigation() {\n    if (!this.dots) {\n      return;\n    }\n\n    document.body.insertAdjacentHTML('beforeEnd', DOM.sidebarNav);\n    this.sections.forEach((section) => {\n      this.sectionNavigation += `\n        <div class=\"${CLASSES.sidebarNavButton}\">\n          <span class=\"${CLASSES.sidebarNavItem}\">\n          ${section.dataset.target}\n          </span>\n        </div>\n      `;\n    });\n\n    document.querySelector(`.${CLASSES.sidebarNav}`).innerHTML = this.sectionNavigation;\n\n    this.buttons = document.querySelectorAll(`.${CLASSES.sidebarNavButton}`);\n    this.buttons[this.currentPage].classList.add(CLASSES.sidebarNavButtonActive);\n    this.buttons.forEach((button, index) => {\n      button.addEventListener('click', () => {\n        FUNC.removeActiveClass();\n\n        button.classList.add(CLASSES.sidebarNavButtonActive);\n\n        this.currentPage = index;\n        this.scrollContent();\n      });\n    });\n  }\n\n  debounceFunction(f, ms) {\n    return function () {\n      if (!this.animationFinished) return;\n      f.apply(this, arguments);\n\n      this.animationFinished = false;\n      setTimeout(() => this.animationFinished = true, ms);\n    };\n  }\nl\n  goto() {\n    // let numberOfPage = num;\n\n    // if (num >= this.amountOfPages) {\n    //   numberOfPage = this.amountOfPages - 1;\n    // } else if (num < 0) {\n    //   numberOfPage = 0;\n    // }\n\n    // gsap.to('body', { position: 'relative', top: -100 * numberOfPage + 'vh', duration: this.duration });\n\n    // if (this.dots) {\n    //   this.changeActiveButton(numberOfPage);\n    // }\n    // this.currentPage = numberOfPage;\n\n    if (this.onStart) {\n      this.onStart();\n    }\n\n    this.parent.style.transform = `translateY(-${this.currentPage * VIEWPORT_HEIGHT}vh)`;\n\n    FUNC.removeActiveClass();\n\n    this.buttons[this.currentPage].classList.add(CLASSES.sidebarNavButtonActive);\n\n    if (this.onEnd) {\n      setTimeout(() => {\n        this.onEnd();\n      }, this.duration);\n    }\n  }\n\n  addScrollListener() {\n    window.addEventListener('mousewheel', (event) => {\n      if (!this.animationFinished) {\n        return;\n      }\n\n      if (this.callback.start) {\n        this.callback.start();\n      }\n\n      if (event.deltaY > 0) {\n        this.currentPage += this.currentPage < (this.sections.length - 1) ? 1 : 0;\n      } else {\n        this.currentPage -= this.currentPage > 0 ? 1 : 0;\n      }\n\n      this.debounce = this.debounceFunction(() => {\n        this.goto();\n      }, this.duration);\n\n      this.debounce();\n\n      setTimeout(() => {\n        if (this.callback.end) {\n          this.callback.end();\n        }\n      }, this.duration);\n    });\n  }\n\n  on(point, func) {\n    this.callback[point] = func;\n  }\n}\n\nconst config = {\n  duration: 1000,\n  dots: true,\n};\n\nconst fullPage = new MyFullPage(config);\nfullPage.on('start', FUNC.runAtStart);\nfullPage.on('end', FUNC.runAtEnd);\n"]}