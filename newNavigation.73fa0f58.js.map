{"version":3,"sources":["helpers/_consts.js","helpers/_functions.js","scripts/newNavigation.js"],"names":["CLASSES","sidebarNav","sidebarNavButton","sidebarNavButtonActive","sidebarNavItem","DOM","parent","document","querySelector","sections","querySelectorAll","VIEWPORT_HEIGHT","FUNC","runAtEnd","console","log","runAtStart","removeActiveClass","classList","remove","throttle","method","context","delay","wait","wrapper","args","apply","setTimeout","MyFullPage","config","sectionsCount","length","animationFinished","dots","currentPage","debounce","duration","callback","start","end","sectionNavigation","init","refreshPageToTop","setSideNavigation","addScrollListener","setAnimationDuration","window","scrollTo","style","transition","body","insertAdjacentHTML","forEach","section","dataset","target","innerHTML","buttons","add","button","index","addEventListener","goto","onStart","transform","onEnd","event","deltaY","point","func","fullPage","on"],"mappings":";AEAA;;AAEA;;AAMA;AFRO,IAAMA,OAAO,GAAG;AACrBC,ACDF,EDCEA,UAAU,EAAE,aADS;AAErBC,EAAAA,gBAAgB,EAAE,qBAFG;AAGrBC,ACDF,EDCEA,ECDIS,IAAI,GAAG,aDCW,EAAE,+BAHH;AAIrBR,ACDAS,EDCAT,ACDAS,QAAQ,EAAE,IDCI,EAAE,cCDA;ADHK,ACInBC,CDJG,GCIHA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACD,GAHU;ADKN,ACALC,EAAAA,EDAWX,GAAG,GAAG,ECAP,EAAE,sBAAM;ADClBC,ACAEQ,EDAFR,ECAEQ,IDAI,EAAEP,CCAC,CAACQ,GAAR,CAAY,EDAE,CAACP,aAAT,CAAuB,GCA7B,YDAM,CADS;AAEjBC,ACAC,EDADA,CCPW,CCQPoB,MFDI,EAAEtB,QAAQ,CAACG,gBAAT,CAA0B,UAA1B,CAFO;AAGjBT,ACCAgB,ACAA,EFDAhB,ACCAgB,UDDU,OCCO,EAAE,CCAPa,MAAZ,EAAoB,OFDO9B,OAAO,CAACC,KCCV,KDDf;AAHO,ACKfM,ACDkB,CFJf,GCKHA,QAAQ,CACLC,aADH,YACqBR,gBAAQG,sBAD7B,GAEGe,SAFH,CAEaC,MAFb,CAEoBnB,gBAAQG,sBAF5B;AAGD,GAbU;ADWN,ACILiB,ACLE,EDKFA,EDJWT,KEDJF,CDKC,EAAE,KCLR,EFCwB,CEDRqB,EFCW,GAAxB,CEDmB,CAACrB,GDKdY,KCLO,CDKR,EAASC,CCLkBjB,MDK3B,EAAkBkB,ICLad,CDK/B,EAA4B,KCLpC,CADkB,CAC+B;ADMjD,QAAIe,IAAI,GAAG,KAAX;AAEA,ACPA,SAAKO,EDOE,SAASN,ECPhB,GAAqB,EDOd,GAA0B,ACPPhB,QAAL,CAAcuB,MAAnC,CAFkB,CAEyB;ADQzC,UAAI,CAACR,IAAL,EAAW;AAAA,ACPb,SAAKS,iBAAL,GAAyB,IAAzB,SDM2BP,IACd;AADcA,ACL3B,SAAKQ,CDKsBR,GCL3B,CDMa,ECNDI,MAAM,CAACI,IAAP,IAAe,KAA3B;ADMa,ACLb,SAAKC,WAAL,GAAmB,CAAnB;AACA,SAAKC,QAAL,GAAgB,IAAhB;ADKIf,ACJJ,QDIIA,CCJCgB,KDIK,CAACV,ECJX,GDII,ACJYG,CDICR,KCJK,CAACe,CDInB,EAAsBX,IAAtB,CCJY,IAAmB,GAAnC;ADKIF,ACJJ,QDIIA,CCJCc,GDIG,GAAG,ECJX,EDII,CCJY;ADKZV,ACJFW,MAAAA,EDIEX,GCJG,EAAE,IADO,CDKF,CAAC,YAAM;AACfJ,ACJJgB,MAAAA,GAAG,CDIChB,CCJC,GDIG,GAAG,KAAP;AACD,ACPW,KAAhB,IDKc,EAEPD,KAFO,CAAV;AAGD,ACJH,SAAKkB,iBAAL,GAAyB,EAAzB;ADKC,ACHD,KDLA,ICKKnC,MAAL,GAAcwB,MAAM,CAACxB,MAAP,IAAiBD,YAAIC,MAAnC;ADID,ACFC,SAAKoC,IAAL,GAhBkB,CAkBlB;AD3BS,AC4BT,CD5BJ;AC6BI,eDCW9B;ACAX;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACD;;;;2BAEM;AACL,WAAK+B,gBAAL;AACA,WAAKC,iBAAL;AACA,WAAKC,iBAAL;AACA,WAAKC,oBAAL,CAA0B,KAAKT,QAA/B;AACD;;;uCAEkB;AACjBT,MAAAA,UAAU,CAAC,YAAM;AACfmB,QAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,OAFS,EAEP,EAFO,CAAV;AAGD;;;yCAEoBX,UAAU;AAC7B,WAAK/B,MAAL,CAAY2C,KAAZ,CAAkBC,UAAlB,uBAA4Cb,QAA5C;AACD;;;wCAEmB;AAAA;;AAClB,UAAI,CAAC,KAAKH,IAAV,EAAgB;AACd;AACD;;AAED3B,MAAAA,QAAQ,CAAC4C,IAAT,CAAcC,kBAAd,CAAiC,WAAjC,EAA8C/C,YAAIJ,UAAlD;AACA,WAAKQ,QAAL,CAAc4C,OAAd,CAAsB,UAACC,OAAD,EAAa;AACjC,QAAA,KAAI,CAACb,iBAAL,qCACgBzC,gBAAQE,gBADxB,0CAEmBF,gBAAQI,cAF3B,4BAGMkD,OAAO,CAACC,OAAR,CAAgBC,MAHtB;AAOD,OARD;AAUAjD,MAAAA,QAAQ,CAACC,aAAT,YAA2BR,gBAAQC,UAAnC,GAAiDwD,SAAjD,GAA6D,KAAKhB,iBAAlE;AAEA,WAAKiB,OAAL,GAAenD,QAAQ,CAACG,gBAAT,YAA8BV,gBAAQE,gBAAtC,EAAf;AACA,WAAKwD,OAAL,CAAa,KAAKvB,WAAlB,EAA+BjB,SAA/B,CAAyCyC,GAAzC,CAA6C3D,gBAAQG,sBAArD;AACA,WAAKuD,OAAL,CAAaL,OAAb,CAAqB,UAACO,MAAD,EAASC,KAAT,EAAmB;AACtCD,QAAAA,MAAM,CAACE,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrClD,6BAAKK,iBAAL;;AAEA2C,UAAAA,MAAM,CAAC1C,SAAP,CAAiByC,GAAjB,CAAqB3D,gBAAQG,sBAA7B;AAEA,UAAA,KAAI,CAACgC,WAAL,GAAmB0B,KAAnB;;AACA,UAAA,KAAI,CAACE,IAAL;AACD,SAPD;AAQD,OATD;AAUD,MAED;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;2BAEO;AAAA;;AACL,UAAI,KAAKC,OAAT,EAAkB;AAChB,aAAKA,OAAL;AACD;;AAED,WAAK1D,MAAL,CAAY2C,KAAZ,CAAkBgB,SAAlB,yBAA6C,KAAK9B,WAAL,GAAmBxB,uBAAhE;;AAEAC,yBAAKK,iBAAL;;AAEA,WAAKyC,OAAL,CAAa,KAAKvB,WAAlB,EAA+BjB,SAA/B,CAAyCyC,GAAzC,CAA6C3D,gBAAQG,sBAArD;;AAEA,UAAI,KAAK+D,KAAT,EAAgB;AACdtC,QAAAA,UAAU,CAAC,YAAM;AACf,UAAA,MAAI,CAACsC,KAAL;AACD,SAFS,EAEP,KAAK7B,QAFE,CAAV;AAGD;AACF;;;wCAEmB;AAAA;;AAClBU,MAAAA,MAAM,CAACe,gBAAP,CAAwB,YAAxB,EAAsC,UAACK,KAAD,EAAW;AAC/C,YAAI,CAAC,MAAI,CAAClC,iBAAV,EAA6B;AAC3B;AACD;;AAED,YAAI,MAAI,CAACK,QAAL,CAAcC,KAAlB,EAAyB;AACvB,UAAA,MAAI,CAACD,QAAL,CAAcC,KAAd;AACD;;AAED,YAAI4B,KAAK,CAACC,MAAN,GAAe,CAAnB,EAAsB;AACpB,UAAA,MAAI,CAACjC,WAAL,IAAoB,MAAI,CAACA,WAAL,GAAoB,MAAI,CAAC1B,QAAL,CAAcuB,MAAd,GAAuB,CAA3C,GAAgD,CAAhD,GAAoD,CAAxE;AACD,SAFD,MAEO;AACL,UAAA,MAAI,CAACG,WAAL,IAAoB,MAAI,CAACA,WAAL,GAAmB,CAAnB,GAAuB,CAAvB,GAA2B,CAA/C;AACD,SAb8C,CAe/C;AACA;AACA;AAEA;;;AAEA,QAAA,MAAI,CAAC4B,IAAL;;AAEAnC,QAAAA,UAAU,CAAC,YAAM;AACf,cAAI,MAAI,CAACU,QAAL,CAAcE,GAAlB,EAAuB;AACrB,YAAA,MAAI,CAACF,QAAL,CAAcE,GAAd;AACD;AACF,SAJS,EAIP,MAAI,CAACH,QAJE,CAAV;AAKD,OA5BD;AA6BD;;;uBAEEgC,OAAOC,MAAM;AACd,WAAKhC,QAAL,CAAc+B,KAAd,IAAuBC,IAAvB;AACD;;;;;;AAGH,IAAMxC,MAAM,GAAG;AACbO,EAAAA,QAAQ,EAAE,IADG;AAEbH,EAAAA,IAAI,EAAE;AAFO,CAAf;AAKA,IAAMqC,QAAQ,GAAG,IAAI1C,UAAJ,CAAeC,MAAf,CAAjB;AACAyC,QAAQ,CAACC,EAAT,CAAY,OAAZ,EAAqB5D,mBAAKI,UAA1B;AACAuD,QAAQ,CAACC,EAAT,CAAY,KAAZ,EAAmB5D,mBAAKC,QAAxB","file":"newNavigation.73fa0f58.js","sourceRoot":"..\\src","sourcesContent":["export const CLASSES = {\n  sidebarNav: 'sidebar-nav',\n  sidebarNavButton: 'sidebar-nav__button',\n  sidebarNavButtonActive: 'sidebar-nav__button_is-active',\n  sidebarNavItem: 'sidebar-nav__item',\n};\n\nexport const DOM = {\n  parent: document.querySelector('.main-content'),\n  sections: document.querySelectorAll('.section'),\n  sidebarNav: `<div class=\"${CLASSES.sidebarNav}\"></div>`,\n};\n\nexport const VIEWPORT_HEIGHT = 100;\n","import { CLASSES } from './_consts';\n\nconst FUNC = {\n  runAtEnd: () => {\n    console.log('I run at the end');\n  },\n\n  runAtStart: () => {\n    console.log('I run at the start');\n  },\n\n  removeActiveClass: () => {\n    document\n      .querySelector(`.${CLASSES.sidebarNavButtonActive}`)\n      .classList.remove(CLASSES.sidebarNavButtonActive);\n  },\n\n  throttle: (method, context, delay) => {\n    let wait = false;\n\n    return function wrapper(...args) {\n      if (!wait) {\n        method.apply(context, args);\n        wait = true;\n        setTimeout(() => {\n          wait = false;\n        }, delay);\n      }\n    };\n  },\n};\n\nexport default FUNC;\n","'use-strict';\n\nimport {\n  CLASSES,\n  DOM,\n  VIEWPORT_HEIGHT,\n  // DEFAULT_DURATION,\n} from '../helpers/_consts';\nimport FUNC from '../helpers/_functions';\n\nclass MyFullPage {\n  constructor(config) {\n    this.sections = config.sections || DOM.sections; // this.pages\n    this.sectionsCount = this.sections.length; // this.amountOfPages\n    this.animationFinished = true;\n    this.dots = config.dots || false;\n    this.currentPage = 0;\n    this.debounce = null;\n    this.duration = config.duration || 500;\n    this.callback = {\n      start: null,\n      end: null,\n    };\n    this.sectionNavigation = '';\n\n    this.parent = config.parent || DOM.parent;\n\n    this.init();\n\n    // old\n    // this.parent = config.parent || DOM.parent;\n    // this.spinValue = config.spinValue || 0; // currentPage\n    // this.sectionNavigation = '';\n    // this.startY = undefined;\n\n    // this.initializeScroll();\n    // this.setAnimationDuration(this.duration);\n\n    // this.prevTime = new Date().getTime();\n\n    // this.refreshPageToTop();\n    // old\n  }\n\n  init() {\n    this.refreshPageToTop();\n    this.setSideNavigation();\n    this.addScrollListener();\n    this.setAnimationDuration(this.duration);\n  }\n\n  refreshPageToTop() {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 40);\n  }\n\n  setAnimationDuration(duration) {\n    this.parent.style.transition = `transform ${duration}ms ease-out`;\n  }\n\n  setSideNavigation() {\n    if (!this.dots) {\n      return;\n    }\n\n    document.body.insertAdjacentHTML('beforeEnd', DOM.sidebarNav);\n    this.sections.forEach((section) => {\n      this.sectionNavigation += `\n        <div class=\"${CLASSES.sidebarNavButton}\">\n          <span class=\"${CLASSES.sidebarNavItem}\">\n          ${section.dataset.target}\n          </span>\n        </div>\n      `;\n    });\n\n    document.querySelector(`.${CLASSES.sidebarNav}`).innerHTML = this.sectionNavigation;\n\n    this.buttons = document.querySelectorAll(`.${CLASSES.sidebarNavButton}`);\n    this.buttons[this.currentPage].classList.add(CLASSES.sidebarNavButtonActive);\n    this.buttons.forEach((button, index) => {\n      button.addEventListener('click', () => {\n        FUNC.removeActiveClass();\n\n        button.classList.add(CLASSES.sidebarNavButtonActive);\n\n        this.currentPage = index;\n        this.goto();\n      });\n    });\n  }\n\n  // debounceFunction(f, ms) {\n  //   return function () {\n\n  //     if (!this.animationFinished) {\n  //       return;\n  //     }\n\n  //     f.apply(this, arguments);\n  //     this.animationFinished = false;\n  //     setTimeout(() => this.animationFinished = true, ms);\n  //   };\n  // }\n\n  goto() {\n    if (this.onStart) {\n      this.onStart();\n    }\n\n    this.parent.style.transform = `translateY(-${this.currentPage * VIEWPORT_HEIGHT}vh)`;\n\n    FUNC.removeActiveClass();\n\n    this.buttons[this.currentPage].classList.add(CLASSES.sidebarNavButtonActive);\n\n    if (this.onEnd) {\n      setTimeout(() => {\n        this.onEnd();\n      }, this.duration);\n    }\n  }\n\n  addScrollListener() {\n    window.addEventListener('mousewheel', (event) => {\n      if (!this.animationFinished) {\n        return;\n      }\n\n      if (this.callback.start) {\n        this.callback.start();\n      }\n\n      if (event.deltaY > 0) {\n        this.currentPage += this.currentPage < (this.sections.length - 1) ? 1 : 0;\n      } else {\n        this.currentPage -= this.currentPage > 0 ? 1 : 0;\n      }\n\n      // this.debounce = this.debounceFunction(() => {\n      //   this.goto();\n      // }, this.duration);\n\n      // this.debounce();\n\n      this.goto();\n\n      setTimeout(() => {\n        if (this.callback.end) {\n          this.callback.end();\n        }\n      }, this.duration);\n    });\n  }\n\n  on(point, func) {\n    this.callback[point] = func;\n  }\n}\n\nconst config = {\n  duration: 1000,\n  dots: true,\n};\n\nconst fullPage = new MyFullPage(config);\nfullPage.on('start', FUNC.runAtStart);\nfullPage.on('end', FUNC.runAtEnd);\n"]}