{"version":3,"sources":["helpers/_consts.js","helpers/_functions.js","scripts/newNavigation.js"],"names":["CLASSES","sidebarNav","sidebarNavButton","sidebarNavButtonActive","sidebarNavItem","DOM","parent","document","querySelector","sections","querySelectorAll","VIEWPORT_HEIGHT","FUNC","runAtEnd","console","log","runAtStart","removeActiveClass","classList","remove","throttle","method","context","delay","wait","wrapper","args","apply","setTimeout","MyFullPage","config","sectionsCount","length","animationFinished","dots","currentPage","debounce","duration","callback","start","end","sectionNavigation","init","refreshPageToTop","setSideNavigation","addScrollListener","window","scrollTo","body","insertAdjacentHTML","forEach","section","dataset","target","innerHTML","buttons","add","button","index","addEventListener","scrollContent","f","ms","arguments","onStart","style","transform","onEnd","event","deltaY","debounceFunction","goto","point","func","fullPage","on"],"mappings":"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","file":"newNavigation.73fa0f58.js","sourceRoot":"..\\src","sourcesContent":["export const CLASSES = {\n  sidebarNav: 'sidebar-nav',\n  sidebarNavButton: 'sidebar-nav__button',\n  sidebarNavButtonActive: 'sidebar-nav__button_is-active',\n  sidebarNavItem: 'sidebar-nav__item',\n};\n\nexport const DOM = {\n  parent: document.querySelector('.main-content'),\n  sections: document.querySelectorAll('.section'),\n  sidebarNav: `<div class=\"${CLASSES.sidebarNav}\"></div>`,\n};\n\nexport const VIEWPORT_HEIGHT = 100;\n// export const DEFAULT_DURATION = 500;\n","import { CLASSES } from './_consts';\n\nconst FUNC = {\n  runAtEnd: () => {\n    console.log('I run at the end');\n  },\n\n  runAtStart: () => {\n    console.log('I run at the start');\n  },\n\n  removeActiveClass: () => {\n    document\n      .querySelector(`.${CLASSES.sidebarNavButtonActive}`)\n      .classList.remove(CLASSES.sidebarNavButtonActive);\n  },\n\n  throttle: (method, context, delay) => {\n    let wait = false;\n\n    return function wrapper(...args) {\n      if (!wait) {\n        method.apply(context, args);\n        wait = true;\n        setTimeout(() => {\n          wait = false;\n        }, delay);\n      }\n    };\n  },\n};\n\nexport default FUNC;\n","'use-strict';\n\nimport {\n  CLASSES,\n  DOM,\n  VIEWPORT_HEIGHT,\n  // DEFAULT_DURATION,\n} from '../helpers/_consts';\nimport FUNC from '../helpers/_functions';\n\nclass MyFullPage {\n  constructor(config) {\n    this.sections = config.sections || DOM.sections; // this.pages\n    this.sectionsCount = this.sections.length; // this.amountOfPages\n    this.animationFinished = true;\n    this.dots = config.dots || false;\n    this.currentPage = 0;\n    this.debounce = null;\n    this.duration = config.duration || 500;\n    this.callback = {\n      start: null,\n      end: null,\n    };\n    this.sectionNavigation = '';\n\n    this.init();\n\n    this.parent = config.parent || DOM.parent;\n\n    // old\n    // this.parent = config.parent || DOM.parent;\n    // this.spinValue = config.spinValue || 0; // currentPage\n    // this.sectionNavigation = '';\n    // this.startY = undefined;\n\n    // this.initializeScroll();\n    // this.setAnimationDuration(this.duration);\n\n    // this.prevTime = new Date().getTime();\n\n    // this.refreshPageToTop();\n    // old\n  }\n\n  init() {\n    this.refreshPageToTop();\n    this.setSideNavigation();\n    this.addScrollListener();\n  }\n\n  refreshPageToTop() {\n    setTimeout(() => {\n      window.scrollTo(0, 0);\n    }, 40);\n  }\n\n  setSideNavigation() {\n    if (!this.dots) {\n      return;\n    }\n\n    document.body.insertAdjacentHTML('beforeEnd', DOM.sidebarNav);\n    this.sections.forEach((section) => {\n      this.sectionNavigation += `\n        <div class=\"${CLASSES.sidebarNavButton}\">\n          <span class=\"${CLASSES.sidebarNavItem}\">\n          ${section.dataset.target}\n          </span>\n        </div>\n      `;\n    });\n\n    document.querySelector(`.${CLASSES.sidebarNav}`).innerHTML = this.sectionNavigation;\n\n    this.buttons = document.querySelectorAll(`.${CLASSES.sidebarNavButton}`);\n    this.buttons[this.currentPage].classList.add(CLASSES.sidebarNavButtonActive);\n    this.buttons.forEach((button, index) => {\n      button.addEventListener('click', () => {\n        FUNC.removeActiveClass();\n\n        button.classList.add(CLASSES.sidebarNavButtonActive);\n\n        this.currentPage = index;\n        this.scrollContent();\n      });\n    });\n  }\n\n  debounceFunction(f, ms) {\n    return function () {\n      if (!this.animationFinished) return;\n      f.apply(this, arguments);\n\n      this.animationFinished = false;\n      setTimeout(() => this.animationFinished = true, ms);\n    };\n  }\nl\n  goto() {\n    // let numberOfPage = num;\n\n    // if (num >= this.amountOfPages) {\n    //   numberOfPage = this.amountOfPages - 1;\n    // } else if (num < 0) {\n    //   numberOfPage = 0;\n    // }\n\n    // gsap.to('body', { position: 'relative', top: -100 * numberOfPage + 'vh', duration: this.duration });\n\n    // if (this.dots) {\n    //   this.changeActiveButton(numberOfPage);\n    // }\n    // this.currentPage = numberOfPage;\n\n    if (this.onStart) {\n      this.onStart();\n    }\n\n    this.parent.style.transform = `translateY(-${this.currentPage * VIEWPORT_HEIGHT}vh)`;\n\n    FUNC.removeActiveClass();\n\n    this.buttons[this.currentPage].classList.add(CLASSES.sidebarNavButtonActive);\n\n    if (this.onEnd) {\n      setTimeout(() => {\n        this.onEnd();\n      }, this.duration);\n    }\n  }\n\n  addScrollListener() {\n    window.addEventListener('mousewheel', (event) => {\n      if (!this.animationFinished) {\n        return;\n      }\n\n      if (this.callback.start) {\n        this.callback.start();\n      }\n\n      if (event.deltaY > 0) {\n        this.currentPage += this.currentPage < (this.sections.length - 1) ? 1 : 0;\n      } else {\n        this.currentPage -= this.currentPage > 0 ? 1 : 0;\n      }\n\n      this.debounce = this.debounceFunction(() => {\n        this.goto();\n      }, this.duration);\n\n      this.debounce();\n\n      setTimeout(() => {\n        if (this.callback.end) {\n          this.callback.end();\n        }\n      }, this.duration);\n    });\n  }\n\n  on(point, func) {\n    this.callback[point] = func;\n  }\n}\n\nconst config = {\n  duration: 1000,\n  dots: true,\n};\n\nconst fullPage = new MyFullPage(config);\nfullPage.on('start', FUNC.runAtStart);\nfullPage.on('end', FUNC.runAtEnd);\n"]}